name: Test ARC Runner

on:
  workflow_dispatch:

jobs:
  test-arc-runner:
    runs-on: zombienet-arc-runner 
    container:
      image: docker.io/paritytech/zombienet:v1.3.116
    steps:
      - name: test
        run: |
          pwd
          echo "hello world"
          ls -R
          ls /home/nonroot/zombie-net/
          id
          touch /tmp/hamid
  post-test:
    runs-on: zombienet-arc-runner
    needs: test-arc-runner 
    container:
      image: docker.io/paritytech/zombienet:v1.3.116
    steps:
      - name: Post-Test Step
        run: |
          pwd
          echo "Post-test job starting..."
          ls -R
          cat /tmp/hamid || echo "File 'hamid' not found"        
